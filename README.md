# ToDoList
This project is for CI testing purpose related to ESGI.

# Jenkins CI
The CI pipeline was generated by using Blue Ocean, a tool to ease pipeline creation and management. Beyond that we used Jenkins' email notification system to notify us when a build has failed or succeed.

## Mail notifications
In order to receive information about our runned builds, we want Jenkins to send us successful and failed build notifications. For that we setup [Mailtrap](https://mailtrap.io) as the SMTP server which is called by Jenkins once our pipeline tells it to send an email.

## Github Webhooks
To add Discord WebHook, I installed the discord notification plugin on jenkins: 

![Jenkin's plugins screen](https://i.imgur.com/0c5NViu.png)
Then, i was able to add a few lines to the Jenkinsfile, in order to post the results of the pipeline on discord:

```
post {
    always {
        discordSend description: 'Jenkins Pipeline Build',
        footer: 'Test pipeline',
        link: env.BUILD_URL,
        result: currentBuild.currentResult,
        unstable: true,
        title: JOB_NAME,
        webhookURL: 'https://discordapp.com/api/webhooks/000000000000000000/0000000000000000000000000000000000000000000000000000-0-0000000000000'
    }
}
```

The webhook URL we used could be found in the Discord server settings : 
![Discord jenkins](https://imgur.com/e8PgWx0.png)

In the end, every build got displayed in the discord server.
![Discord jenkins messages](https://imgur.com/ctzOh1N.png)
